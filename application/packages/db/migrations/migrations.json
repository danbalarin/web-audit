[
	{
		"sql": [
			"CREATE TABLE IF NOT EXISTS \"audits\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"updated_at\" timestamp DEFAULT now() NOT NULL,\n\t\"created_at\" timestamp DEFAULT now() NOT NULL,\n\t\"deleted_at\" timestamp,\n\t\"project_id\" uuid NOT NULL,\n\t\"url\" varchar NOT NULL\n);\n",
			"\nCREATE TABLE IF NOT EXISTS \"metrics\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"created_at\" timestamp DEFAULT now() NOT NULL,\n\t\"audit_id\" uuid NOT NULL,\n\t\"metric\" varchar NOT NULL,\n\t\"category\" varchar NOT NULL,\n\t\"url\" varchar NOT NULL\n);\n",
			"\nCREATE TABLE IF NOT EXISTS \"projects\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"updated_at\" timestamp DEFAULT now() NOT NULL,\n\t\"created_at\" timestamp DEFAULT now() NOT NULL,\n\t\"deleted_at\" timestamp,\n\t\"name\" varchar NOT NULL,\n\t\"home_url\" varchar NOT NULL,\n\t\"urls\" varchar[] NOT NULL\n);\n",
			"\nDO $$ BEGIN\n ALTER TABLE \"audits\" ADD CONSTRAINT \"audits_project_id_projects_id_fk\" FOREIGN KEY (\"project_id\") REFERENCES \"public\".\"projects\"(\"id\") ON DELETE cascade ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n",
			"\nDO $$ BEGIN\n ALTER TABLE \"metrics\" ADD CONSTRAINT \"metrics_audit_id_audits_id_fk\" FOREIGN KEY (\"audit_id\") REFERENCES \"public\".\"audits\"(\"id\") ON DELETE cascade ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n"
		],
		"bps": true,
		"folderMillis": 1738774479790,
		"hash": "2e23e14f1b6029321ef3f08ea8641852011e57837a6bd67907d95085fd6106ab"
	},
	{
		"sql": [
			"CREATE TABLE IF NOT EXISTS \"jobs\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"updated_at\" timestamp DEFAULT now() NOT NULL,\n\t\"created_at\" timestamp DEFAULT now() NOT NULL,\n\t\"deleted_at\" timestamp,\n\t\"project_id\" uuid NOT NULL\n);\n",
			"\nALTER TABLE \"audits\" DROP CONSTRAINT \"audits_project_id_projects_id_fk\";\n",
			"\nALTER TABLE \"audits\" ADD COLUMN \"job_id\" uuid NOT NULL;",
			"\nDO $$ BEGIN\n ALTER TABLE \"jobs\" ADD CONSTRAINT \"jobs_project_id_projects_id_fk\" FOREIGN KEY (\"project_id\") REFERENCES \"public\".\"projects\"(\"id\") ON DELETE cascade ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n",
			"\nDO $$ BEGIN\n ALTER TABLE \"audits\" ADD CONSTRAINT \"audits_job_id_jobs_id_fk\" FOREIGN KEY (\"job_id\") REFERENCES \"public\".\"jobs\"(\"id\") ON DELETE cascade ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n",
			"\nALTER TABLE \"audits\" DROP COLUMN IF EXISTS \"project_id\";"
		],
		"bps": true,
		"folderMillis": 1738858974448,
		"hash": "8e0c9f84ae680465703aa08361e61da4bbe7f1778bd7bf7dd16efc3820412006"
	},
	{
		"sql": [
			"ALTER TABLE \"jobs\" ADD COLUMN \"progress\" integer DEFAULT 0 NOT NULL;",
			"\nALTER TABLE \"jobs\" ADD COLUMN \"error\" json;",
			"\nALTER TABLE \"jobs\" ADD COLUMN \"module_statuses\" json DEFAULT '{}'::json NOT NULL;"
		],
		"bps": true,
		"folderMillis": 1738876689943,
		"hash": "ccf6ebbbedac4b7a0fa409b9ad4f20d97013b3931fcd186077b9f07fe7fc7ed9"
	},
	{
		"sql": [
			"ALTER TABLE \"jobs\" ALTER COLUMN \"progress\" SET DATA TYPE real;"
		],
		"bps": true,
		"folderMillis": 1740670832912,
		"hash": "56b50016e5d96c2208a57077b7067c2676a0c042d98952866a04c395f5d7dc64"
	},
	{
		"sql": ["ALTER TABLE \"metrics\" RENAME COLUMN \"url\" TO \"value\";"],
		"bps": true,
		"folderMillis": 1740670889539,
		"hash": "6e6ba596039453dc0d971f5045045740aa7fb5af235603c625baccee385276f7"
	}
]
